---
type Cta = {
  label: string;
  href: string;
  variant?: string;
  external?: boolean;
};

const { ctas = [], align = 'start' }: { ctas: Cta[]; align?: 'start' | 'center' | 'end' } = Astro.props;

const alignment =
  align === 'center'
    ? 'justify-center'
    : align === 'end'
      ? 'justify-end'
      : 'justify-start';

const baseClasses =
  'inline-flex items-center justify-center rounded-xl px-5 py-3 text-sm font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-btr-accent';

const variantClasses = (variant?: string) => {
  switch (variant) {
    case 'secondary':
      return 'border border-btr-muted bg-white text-btr-text hover:border-btr-accent hover:text-btr-accent';
    case 'outline':
      return 'border border-btr-accent text-btr-accent hover:bg-btr-accent hover:text-white';
    default:
      return 'bg-btr-accent text-white hover:bg-btr-accent-muted';
  }
};
---
{ctas.length > 0 && (
  <div class={`flex flex-col gap-3 sm:flex-row sm:flex-nowrap sm:items-center sm:gap-4 ${alignment === 'center' ? 'sm:justify-center' : alignment === 'end' ? 'sm:justify-end' : 'sm:justify-start'}`}>
    {ctas.map((cta) => (
      <a
        href={cta.href}
        class={`${baseClasses} ${variantClasses(cta.variant)}`}
        target={cta.external ? '_blank' : undefined}
        rel={cta.external ? 'noopener noreferrer' : undefined}
      >
        {cta.label}
      </a>
    ))}
  </div>
)}
