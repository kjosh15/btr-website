---
type Step = {
  title: string;
  description: string;
};

const { steps = [] }: { steps: Step[] } = Astro.props;
---
{steps.length > 0 && (
  <ol class="process-timeline relative space-y-8">
    {steps.map((step, index) => {
      const order = index + 1;
      return (
        <li class="relative pl-12">
          <span class="absolute left-0 top-0 flex h-8 w-8 items-center justify-center rounded-full bg-btr-accent text-[0.6rem] font-semibold uppercase tracking-[0.2em] text-white">
            {order}
          </span>
          <div class="rounded-2xl border border-btr-muted bg-white/90 p-4 shadow-sm transition hover:-translate-y-1 hover:border-btr-accent/30 hover:shadow-md">
            <p class="text-sm font-semibold text-btr-text">Phase {order}: {step.title}</p>
            <p class="mt-2 text-sm leading-relaxed text-btr-text/75">{step.description}</p>
          </div>
        </li>
      );
    })}
  </ol>
)}

<style>
.process-timeline::before {
  content: '';
  position: absolute;
  left: 1.2rem;
  top: 0.75rem;
  bottom: 0.75rem;
  width: 2px;
  background: linear-gradient(to bottom, rgba(31, 117, 203, 0.3), rgba(31, 117, 203, 0.05));
}

.process-timeline li::after {
  content: '';
  position: absolute;
  left: 1.5rem;
  top: 0.9rem;
  width: 12px;
  height: 12px;
  border-radius: 9999px;
  background-color: #1f75cb;
  opacity: 0.18;
}
</style>
