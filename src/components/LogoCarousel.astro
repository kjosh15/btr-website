---
type Logo = {
  name: string;
  file?: string;
};

const { logos = [] }: { logos: Logo[] } = Astro.props;
const resolveSrc = (file?: string) => (file ? `logos/${file}` : '');
---
<div class="rounded-2xl border border-white/15 bg-white/5 p-6">
  {logos.length ? (
    <div class="logo-grid grid grid-cols-2 gap-6 sm:grid-cols-3 lg:grid-cols-6">
      {logos.map((logo) => (
        <figure class="flex h-16 items-center justify-center rounded-xl bg-white/10 px-3 py-2 text-center text-xs uppercase tracking-wide text-white/70">
          {logo.file ? (
            <img
              src={resolveSrc(logo.file)}
              alt={logo.name}
              class="h-10 w-auto opacity-85 transition-opacity hover:opacity-100"
              loading="lazy"
            />
          ) : (
            <span>{logo.name}</span>
          )}
        </figure>
      ))}
    </div>
  ) : (
    <div class="text-center text-sm text-white/70">
      Add SVG or PNG logos to <code class="rounded bg-white/10 px-1">public/logos</code> and list them in the content frontmatter.
    </div>
  )}
</div>

<style>
.logo-grid img {
  filter: grayscale(100%);
  opacity: 0.85;
  transition: opacity 150ms ease, filter 150ms ease;
}

.logo-grid img:hover {
  filter: grayscale(0%);
  opacity: 1;
}
</style>
